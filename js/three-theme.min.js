function init(){renderer=new THREE.WebGLRenderer({antialias:!0,alpha:!0}),renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(window.innerWidth,windowHeight);var e=document.createElement("div");e.id="three",e.appendChild(renderer.domElement),document.getElementById("masthead").appendChild(e),scene=new THREE.Scene,camera=new THREE.PerspectiveCamera(30,window.innerWidth/windowHeight,1,500),window.addEventListener("deviceorientation",setOrientationControls,!0);var n=THREE.ImageUtils.loadTexture(three_theme_root+"/img/cloud.png",null,animate);n.magFilter=THREE.LinearMipMapLinearFilter,n.minFilter=THREE.LinearMipMapLinearFilter;var t=new THREE.Fog(3303062,100,500);material=new THREE.ShaderMaterial({uniforms:{map:{type:"t",value:n},fogColor:{type:"c",value:t.color},fogNear:{type:"f",value:t.near},fogFar:{type:"f",value:t.far}},vertexShader:document.getElementById("vs").textContent,fragmentShader:document.getElementById("fs").textContent,depthWrite:!1,depthTest:!1,transparent:!0});for(var i=new THREE.Geometry,a=new THREE.Mesh(new THREE.PlaneGeometry(64,64)),r=0;8e3>r;r++)a.position.x=1e3*Math.random()-500,a.position.y=-Math.random()*Math.random()*200-20,a.position.z=r,a.rotation.z=Math.random()*Math.PI,a.scale.x=a.scale.y=Math.random()*Math.random()*1.5+.5,i.mergeMesh(a);mesh=new THREE.Mesh(i,material),scene.add(mesh),mesh=new THREE.Mesh(i,material),mesh.position.z=-500,scene.add(mesh),window.addEventListener("resize",onWindowResize,!1),window.addEventListener("orientationchange",onWindowResize,!1)}function setOrientationControls(e){e.alpha&&(enable_orientation_controls=!0,controls=new THREE.DeviceOrientationControls(camera,!0),window.removeEventListener("deviceorientation",setOrientationControls,!0))}function onWindowResize(e){windowHeight=window.innerHeight>jQuery("#masthead").height()?jQuery("#masthead").height():window.innerHeight,camera.aspect=window.innerWidth/windowHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,windowHeight)}function animate(){var e=.01*(Date.now()-start_time)%8e3;e>8e3||(camera.position.z=-e+8e3,enable_orientation_controls&&controls.update(),requestAnimationFrame(animate),renderer.render(scene,camera))}!function(e){if(e(".home").length){var n=e('<div id="nav-icon" />');n.html('<a class="scroll" data-speed="1000" href="#main"><span class="dashicons dashicons-arrow-down-alt2"></span></a>'),e("#masthead").append(n),e("a.scroll").click(function(){var n=500,t=e(this).attr("href"),i=e("#"==t||""==t?"html":t),a=i.offset().top;return e("html, body").animate({scrollTop:a},n,"swing"),!1})}}(jQuery),Detector.webgl||Detector.addGetWebGLMessage();var container,camera,scene,renderer,controls,enable_orientation_controls,mesh,geometry,material,start_time=Date.now(),windowHeight;windowHeight=window.innerHeight>jQuery("#masthead").height()?jQuery("#masthead").height():window.innerHeight,init();